# ====================================
# BANKING MICROSERVICES - ENVIRONMENT VARIABLES
# ====================================
# Copy this file to .env and update the values
# IMPORTANT: Never commit .env to version control
# ====================================

# -------------------- GLOBAL --------------------
NODE_ENV=development

# -------------------- JWT SECRETS --------------------
# IMPORTANT: Use strong, unique secrets in production
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=change-this-to-a-strong-secret-key-in-production-min-32-chars
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# -------------------- BCRYPT --------------------
BCRYPT_ROUNDS=10

# -------------------- API GATEWAY --------------------
GATEWAY_PORT=3000

# Service URLs (Docker internal network)
AUTH_SERVICE_URL=http://auth-service:3001
WALLET_SERVICE_URL=http://wallet-service:3002
NOTIFICATION_SERVICE_URL=http://notification-service:3003

# -------------------- AUTH SERVICE --------------------
AUTH_SERVICE_PORT=3001
AUTH_MONGODB_URI=mongodb://auth-db:27017/auth_db

# -------------------- WALLET SERVICE --------------------
WALLET_SERVICE_PORT=3002
WALLET_MONGODB_URI=mongodb://wallet-db:27017/wallet_db
WALLET_CACHE_TTL=300

# -------------------- NOTIFICATION SERVICE --------------------
NOTIFICATION_SERVICE_PORT=3003
NOTIFICATION_MONGODB_URI=mongodb://notification-db:27017/notification_db

# Email Configuration (Console mode for development)
EMAIL_ENABLED=true
EMAIL_FROM=noreply@bankingapp.com
# For production, configure SMTP:
# EMAIL_SMTP_HOST=smtp.gmail.com
# EMAIL_SMTP_PORT=587
# EMAIL_SMTP_USER=your-email@gmail.com
# EMAIL_SMTP_PASS=your-app-password

# SMS Configuration (Console mode for development)
SMS_ENABLED=true
SMS_FROM=+1234567890
# For production, configure Twilio or AWS SNS:
# SMS_PROVIDER=twilio
# TWILIO_ACCOUNT_SID=your-account-sid
# TWILIO_AUTH_TOKEN=your-auth-token
# TWILIO_PHONE_NUMBER=+1234567890

# -------------------- RABBITMQ --------------------
RABBITMQ_URL=amqp://guest:guest@rabbitmq:5672
RABBITMQ_EXCHANGE=banking.events
RABBITMQ_EXCHANGE_TYPE=topic

# Retry Configuration
RABBITMQ_MAX_RETRIES=3
RABBITMQ_RETRY_DELAY=1000

# -------------------- REDIS --------------------
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Rate Limiting
RATE_LIMIT_WINDOW=900
RATE_LIMIT_MAX_REQUESTS=100

# -------------------- MONGODB --------------------
# MongoDB Connection Options
MONGODB_OPTIONS=retryWrites=true&w=majority

# -------------------- NGINX --------------------
NGINX_PORT=80

# -------------------- FRONTEND --------------------
REACT_APP_API_URL=http://localhost/api

# -------------------- MONITORING (Future) --------------------
# LOG_LEVEL=info
# ENABLE_METRICS=true
# SENTRY_DSN=

# -------------------- PRODUCTION SETTINGS --------------------
# For production deployment:
# - Use AWS Secrets Manager or similar for sensitive values
# - Enable HTTPS with SSL certificates
# - Use managed services (DocumentDB, Amazon MQ, ElastiCache)
# - Configure proper CORS origins
# - Enable rate limiting with production values
# - Set up monitoring and alerting
